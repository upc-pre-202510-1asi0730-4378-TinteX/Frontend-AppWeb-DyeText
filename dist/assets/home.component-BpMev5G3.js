import{T as m,a as d}from"./textileMachine.entity-DI3Gu5sr.js";import{_ as u,s as p,c as n,a as s,t as e,F as c,r as h,b as _,w as v,d as f,o}from"./index-PoYZxlwP.js";import"./http.instance-t2F9Yq3_.js";import"./index-xsH4HHeE.js";const M={name:"home",components:{PvButton:p},title:"Home",data(){return{textileMachines:[],textileMachineService:null,totalMachines:0,healthyMachines:0,criticalMachines:[]}},created(){this.textileMachineService=new m,this.textileMachineService.getAll().then(i=>{this.textileMachines=i.data.map(t=>new d(t)),this.textileMachines.filter(t=>{t.status==="Critical"&&this.criticalMachines.push(t)}),console.log(this.criticalMachines),this.totalMachines=this.textileMachines.length,this.textileMachines.filter(t=>t.status==="Critical").forEach(t=>{this.healthyMachines+=1})}).catch(i=>{console.log(i)})}},x={class:"w-full"},b={style:{margin:"10px"}},g={class:"historical-machine-container"},y={class:"historical-machine"},w={class:"historical-machine-box"},$={class:"machine-status"},S={class:"machine-health"},k={class:"machine-health-box"},B={class:"total-machine info-box"},C={class:"value"},T={class:"healthy-machine info-box"},j={class:"value"},q={class:"historical-alerts"},z={class:"alert-table"},D={class:"start"},E={class:"start-text"},F={class:"subject"},L={class:"subject"},N={class:"end"};function V(i,t,A,H,l,I){const r=f("pv-button");return o(),n(c,null,[s("div",x,[s("h1",b,e(i.$t("welcome-to"))+" DyeTex",1)]),s("section",g,[s("div",y,[s("h2",null,e(i.$t("home.machine-insights")),1),s("div",w,[(o(!0),n(c,null,h(l.textileMachines,a=>(o(),n("div",{class:"machine-item",key:a.id},[t[0]||(t[0]=s("div",{class:"machine-item-img"},[s("img",{src:"https://deltamaquinastexteis.com.br/wp-content/uploads/2023/10/maquinas-texteis-modelo-para-confeccao.jpg"})],-1)),t[1]||(t[1]=s("span",{class:"machine-name"},"Lathe Machine",-1)),s("span",$,e(i.$t("home.status"))+": "+e(a.status),1)]))),128))])]),s("div",S,[s("h2",null,e(i.$t("home.overall-m-h")),1),s("div",k,[s("div",B,[s("span",null,e(i.$t("home.total-machines")),1),s("span",C,e(l.totalMachines),1)]),s("div",T,[s("span",null,e(i.$t("home.healthy-machines")),1),s("span",j,e(l.healthyMachines),1)])])])]),s("section",q,[s("header",null,[s("h2",null,e(i.$t("home.lastest-alerts")),1),_(r,null,{default:v(()=>[s("span",null,e(i.$t("home.view-more")),1),t[2]||(t[2]=s("i",{class:"pi pi-angle-right",style:{"font-size":"1rem"}},null,-1))]),_:1})]),s("div",z,[(o(!0),n(c,null,h(l.criticalMachines,a=>(o(),n("div",{class:"alert-info",key:a.id},[s("div",D,[t[3]||(t[3]=s("i",{class:"pi pi-info-circle",style:{"font-size":"1.5rem"}},null,-1)),s("div",E,[s("span",F,e(a.name),1),s("span",L,"Machine "+e(a.numberMachine),1)])]),s("div",N,e(a.status),1)]))),128))])])],64)}const O=u(M,[["render",V],["__scopeId","data-v-ca30ebb7"]]);export{O as default};
